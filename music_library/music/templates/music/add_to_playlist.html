<!-- ============================================ -->
<!-- music/templates/music/add_to_playlist.html -->
<!-- Add song to playlist -->
<!-- ============================================ -->
{% extends 'base.html' %}

{% block title %}Add to Playlist - Cloud Music Library{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-6">
        <h2 class="mb-4"><i class="fas fa-plus"></i> Add to Playlist</h2>

        <div class="card mb-4">
            <div class="card-body">
                <h5 class="card-title">{{ song.title }}</h5>
                <p class="card-text text-muted">{{ song.artist.name }}</p>
            </div>
        </div>

        <h5 class="mb-3">Select a Playlist:</h5>

        {% if playlists %}
        <form method="post">
            {% csrf_token %}
            <div class="list-group mb-3">
                {% for playlist in playlists %}
                <label class="list-group-item list-group-item-action">
                    <input type="radio" name="playlist_id" value="{{ playlist.pk }}" required>
                    <strong class="ms-2">{{ playlist.name }}</strong>
                    <small class="text-muted d-block ms-4">{{ playlist.song_count }} songs</small>
                </label>
                {% endfor %}
            </div>

            <div class="d-flex gap-2">
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-plus"></i> Add to Playlist
                </button>
                <a href="{% url 'music:song_detail' song.pk %}" class="btn btn-secondary">Cancel</a>
            </div>
        </form>
        {% else %}
        <div class="alert alert-info">
            <i class="fas fa-info-circle"></i> You don't have any playlists yet.
            <a href="{% url 'music:create_playlist' %}">Create one now!</a>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}